<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Introduction | ConoCancer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/course.css') }}" />
  <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
  <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
</head>
<body data-user-id="{{ session.get('user_id') }}" data-username="{{ user_name }}">
  <div class="container">

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <span>ConoCancer</span>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li><a href="{{ url_for('dashboard') }}"><img src="{{ url_for('static', filename='imgs/Home.png') }}" alt="Overview" /> <span class="nav-text">Dashboard</span></a></li>
          <li class="active">
            <a href="{{ url_for('videos_and_articles') }}">
              <img src="{{ url_for('static', filename='imgs/Folder.png') }}" alt="Videos Icon" />
              <span class="nav-text">Videos & Articles</span>
            </a>
          </li>
          
          <li><a href="{{ url_for('resources') }}"><img src="{{ url_for('static', filename='imgs/Chat.png') }}" alt="Resources" /> <span class="nav-text">Resources</span></a></li>
          <li><a href="{{ url_for('progress') }}"><img src="{{ url_for('static', filename='imgs/Category.png') }}" alt="Progress" /> <span class="nav-text">Progress</span></a></li>
          <li><a href="{{ url_for('setting') }}"><img src="{{ url_for('static', filename='imgs/Setting.png') }}" alt="Settings" /> <span class="nav-text">Settings</span></a></li>
        </ul>
      </nav>
      <div class="illustration">
        <img src="{{ url_for('static', filename='imgs/image 1.png') }}" alt="Sidebar Illustration" />
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="top-bar">
        <div class="top-center">
          <button class="language">Espa√±ol</button>
        </div>
        <div class="top-right">
          <div class="profile-card">
            <div class="user-info">
              ¬†<span id="user-photo" style="font-size: 20px; display: inline-block; line-height: 1;" aria-label="User">üë§</span>
              <div class="user-details">
                <strong id="profile-name">{{ user_name }}</strong>
              </div>
              <button class="dropdown-toggle" id="dropdownToggle">‚ñº</button>
            </div>

            <!-- Dropdown Menu -->
            <div class="dropdown-menu" id="dropdownMenu">
              <ul>
                <li id="logoutBtn">Log Out</li>
              </ul>
            </div>
          </div>

          <!-- Confirm Modal -->
          <div class="confirm-modal" id="confirmModal">
            <div class="confirm-box">
              <p>Are you sure you want to log out?</p>
              <div class="confirm-buttons">
                <button id="confirmYes">Yes</button>
                <button id="confirmNo">No</button>
              </div>
            </div>
          </div>
        </div>
      </header>

      <section class="course-detail">
        <a href="{{ url_for('videos_and_articles') }}" class="back-nav">‚Üê Go Back</a>

        <div class="course-container">

          <!-- Lesson Sidebar -->
          <div class="lesson-sidebar">
            <h2>Introduction</h2>
            <ul class="lesson-list">
              <li class="lesson-item active" data-type="video" data-id="1">
                <span class="lesson-title">Video: Breast Cancer Awareness</span>
                <span class="lesson-time">2 min</span>
                <span class="lesson-status">Not Started</span>
              </li>
              <li class="lesson-item" data-type="video" data-id="2">
                <span class="lesson-title">Video: Public Health Talk</span>
                <span class="lesson-time">2 min</span>
                <span class="lesson-status">Not Started</span>
              </li>
              <li class="lesson-item" data-type="video" data-id="3">
                <span class="lesson-title">Video: Mammography Myth vs. Fact</span>
                <span class="lesson-time">2 min</span>
                <span class="lesson-status">Not Started</span>
              </li>
              <li class="lesson-item" data-type="reading" data-id="1">
                <span class="lesson-title">Reading: Myths vs. Fact</span>
                <span class="lesson-time">2 min</span>
                <span class="lesson-status">Not Started</span>
              </li>
              <li class="lesson-item" data-type="quiz" data-id="1">
                <span class="lesson-title">Quiz: Introduction</span>
                <span class="lesson-time">~20 mins </span>
                <span class="lesson-status">Not Started</span>
              </li>
            </ul>
          </div>

          <!-- Lesson Content Area -->
          <div class="lesson-content">
            <div class="breadcrumbs" id="breadcrumb">Introduction ‚Ä∫ Video: Breast Cancer Awareness</div>
            <!-- VIDEO.JS Player -->

            <div class="video-wrapper" id="video-wrapper">       
            
              <!-- Quiz Overlay -->
              <div id="quiz-overlay" class="quiz-lock" style="display: none;">
                <p><strong>True or False:</strong> A lump or swelling is the only warning sign of breast cancer.</p>
                <button onclick="submitAnswer('True')">True</button>
                <button onclick="submitAnswer('False')">False</button>
              </div>
            </div>
            
            





            <button class="transcript-btn">Transcription</button>


            

            <!-- READING SECTION -->
            <div id="reading-section" class="content-block " style="display: none;">
              <!-- JavaScript will dynamically inject PDF viewer and "Mark as Read" button here -->
            </div>

            <!-- QUIZ SECTION -->
            <div id="quiz-section" class="content-block" style="display: none;">
              <!-- JavaScript will dynamically inject quiz questions and submit button here -->
            </div>

          </div> <!-- End lesson-content -->
        </div> <!-- End course-container -->
      </section>
      <!-- Feedback Button -->
<button id="feedback-btn" class="feedback-fab">
 üí¨ Feedback
</button>

<!-- Feedback Modal -->
<div id="feedback-modal" class="modal hidden">
  <div class="modal-content">
    <button class="close-modal">&times;</button>
    <h2>Feedback Form</h2>
    <p class="modal-subtitle">We'd love to hear from you! Your feedback helps us improve the experience for everyone.</p>

    <form id="feedback-form">
      <div class="form-group">
        <p><strong>How is your experience using the site?</strong></p>
        <div class="rating-options">
          <label><input type="radio" name="experience" value="Not great"> Not great</label>
          <label><input type="radio" name="experience" value="Okay"> Okay</label>
          <label><input type="radio" name="experience" value="Good"> Good</label>
          <label><input type="radio" name="experience" value="Great"> Great</label>
        </div>
      </div>

      <div class="form-group">
        <p><strong>Did you experience any problems?</strong></p>
        <div id="problem-options">
          <label><input type="checkbox" name="problem" value="Audio did not play"> Audio did not play</label>
          <label><input type="checkbox" name="problem" value="The video didn‚Äôt load"> The video didn‚Äôt load</label>
          <label><input type="checkbox" name="problem" value="Transcription issue"> The studio didn‚Äôt transcribe my voice correctly</label>
          <label><input type="checkbox" name="problem" value="Language switch issue"> The language didn‚Äôt switch properly</label>
          <label><input type="checkbox" name="problem" value="Confusing content"> Something was confusing</label>
          <label><input type="checkbox" name="problem" value="Other"> Other</label>
        </div>
        <textarea placeholder="The video..." name="problem-detail"></textarea>
      </div>

      <div class="form-group">
        <p><strong>Anything else you‚Äôd like to share?</strong></p>
        <textarea name="additional-feedback" placeholder="It was hard to understand one of the quiz questions..."></textarea>
      </div>

      <button type="submit" class="submit-btn">Send Feedback</button>
    </form>

    <p class="thank-you">We appreciate your time‚Äîthank you for helping us improve!</p>
  </div>
</div>

    </main>
  </div>
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
      {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
  <script>
    async function fetchUserData() {
      return {
        name: "{{ user_name }}",
        joinDate: "Apr 2025",
        photo: "default-user-icon.png",
        stats: {
          completed: 0,
          watched: 0,
          inProgress: 0,
          quizzes: 0
        },
        courses: [
          { id: "overview", percent: 0 },
          { id: "diagnosis", percent: 0 },
          { id: "treatment", percent: 0 },
          { id: "survivor", percent: 0 }
        ],
        upcoming: []
      };
    }
    </script>

  <!-- ‚úÖ Link Your Corrected JS -->
  <script src="{{ url_for('static', filename='js/courses.js') }}" defer></script>
  <script src="{{ url_for('static', filename='js/video.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
  <script src="{{ url_for('static', filename='js/feedback.js') }}" defer></script>
  <script src="https://unpkg.com/@deepgram/sdk/dist/deepgram.min.js"></script>

  <!-- quiz_summary_modal.html -->
<div id="quizSummaryModal" class="modal" style="display: none;">
  <div class="modal-content">
    <span id="closeSummary" class="close">√ó</span>
    <h3>Quiz Summary</h3>
    <p id="summaryScore"></p>
    <ul id="summaryList"></ul>
  </div>
</div>
</body>
</html>
