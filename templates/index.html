<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Landing Page</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"/>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">

</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
  <div class="logo">ConoCancer</div>

  <div class="nav-right">
    <div class="nav-links">
      <a href="#features">Core Benefits</a>
      <a href="#faq-section">FQA</a>
    </div>

    <div class="nav-buttons">
      <button class="btn-outline" onclick="openLogin()">Login</button>
      <button class="btn-filled" onclick="openSignup()">Sign Up</button>
    </div>
  </div>
</nav>

  <!-- Hero Image -->
  <section class="hero-section fade-in-section">
  <div class="hero-content">
    <h1 class="empower-section-text">Empower Your Journey with Knowledge and Support</h1>
    <p class="empower-sub-section-text">
      Welcome to our bilingual educational platform designed specifically for breast cancer patients.
      Join us to track your progress, access vital resources, and connect with a supportive community.
    </p>
    <button class="btn-filled" onclick="openSignup()">Sign Up</button>
  </div>
</section>
  </section>

  <!-- Features Section -->
   <div class="features fade-in-section" id="features">
    <h2 class="empower-sub-section-text">Explore Our Innovative Learning Features</h2>
    <p class="empower-sub-section-text">Experience bilingual support and personalized learning tailored to your needs.</p>
    <div class="feature-grid">
      <div class="feature">
        <img src="{{ url_for('static', filename='imgs/image-35.png') }}" alt="Progress Tracking">
        <h3 class="empower-sub-section-text">Track Your Progress Effortlessly</h3>
        <p class="features-section-text">Stay informed about your learning journey with our quiz performance tracking.</p>
      </div>
      <div class="feature">
       <img src="{{ url_for('static', filename='imgs/image-40.png') }}" alt="Personalized Recommendations">
        <h3 class="empower-sub-section-text">Personalized Recommendations Just for You</h3>
        <p class="features-section-text">Receive tailored content suggestions based on your progress.</p>
      </div>
      <div class="feature">
        <img src="{{ url_for('static', filename='imgs/image-45.png') }}"alt="Interactive Learning">
        <h3 class="empower-sub-section-text">Engaging and Interactive Learning Experience</h3>
        <p class="features-section-text">Enjoy interactive quizzes that enhance your learning.</p>
      </div>

    </div>
    <div class="features-buttons">
      
      <button class="btn-outline" onclick="openLearnMore()">Learn More</button>
             
     <button class="btn-filled" onclick="openSignup()">Sign Up</button>

    </div>
  </div>
 <!-- Learn More Overlay -->
<div id="learnMoreOverlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 1000;
  display: none;
"></div>

<!-- Learn More Modal -->
<div id="learnMoreModal" style="
  display: none;
  position: fixed;
  top: 10%;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 700px;
  background: white;
  border: 3px solid #7F2895;
  border-radius: 12px;
  padding: 30px;
  z-index: 1100;
  font-family: 'Open Sans', sans-serif;
  overflow: hidden;
  max-height: 80vh;
  animation: fadeSlideIn 0.5s ease;
  position: relative;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
">

  <!-- Close Button -->
  <span class="close-button" onclick="closeLearnMore()" style="
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    top: 10px;
    right: 20px;
  ">&times;</span>

  <!-- Heading -->
  <h2 style="color: #7F2895; margin-bottom: 30px; text-align: center;">More About Our Innovative Learning Features</h2>

  <!-- Carousel Outer -->
  <div style="overflow: hidden; width: 100%;">
    <div id="carousel" style="
      display: flex;
      width: 300%;
      transition: transform 0.5s ease;
      height: 100%;
    ">
      <!-- Slide 1 -->
      <!-- Slide 1 -->
    <div class="slide" style="
      flex: 0 0 33.3333%;
      max-width: 33.3333%;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    ">        <h3 style="color: #333;">Track Your Progress</h3>
        <p style="padding-top: 10px; max-width: 450px; margin: auto;">
          We monitor your learning journey by tracking the number of videos you watch and complete. Using <strong>Bloom‚Äôs Taxonomy</strong> ‚Äî a framework for classifying educational goals ‚Äî we assess your depth of understanding, helping you move from basic knowledge recall to application, analysis, and evaluation.
        </p>
      </div>

      <!-- Slide 2 -->
    <div class="slide" style="
      flex: 0 0 33.3333%;
      max-width: 33.3333%;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
      ">
        <h3 style="color: #333;">Personalized Recommendations</h3>
        <p style="padding-top: 10px; max-width: 450px; margin: auto;">
          During account setup, you‚Äôll select your preferred language (English or Spanish) and indicate your learning interests. Based on your preferences, we tailor video recommendations to guide your personalized learning path.
        </p>
      </div>

      <!-- Slide 3 -->
        <div class="slide" style="
      flex: 0 0 33.3333%;
      max-width: 33.3333%;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
      ">
        <h3 style="color: #333;">Engaging and Interactive Learning</h3>
        <p style="padding-top: 10px; max-width: 450px; margin: auto;">
          Our videos feature embedded quizzes designed to make learning interactive and engaging. You can respond by typing in English or Spanish ‚Äî or by speaking through your microphone in either language.
        </p>
      </div>
    </div>
  </div>

  <!-- Arrows -->
  <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
    <button id="prevBtn" style="
      font-size: 24px;
      background: none;
      border: none;
      cursor: pointer;
      color: #7F2895;
    ">&larr;</button>

    <button id="nextBtn" style="
      font-size: 24px;
      background: none;
      border: none;
      cursor: pointer;
      color: #7F2895;
    ">&rarr;</button>
  </div>

</div>






  


  <!-- Image & Text Section -->
 <section class="faq-section fade-in-section" id="faq-section">
  <div class="text-block">
    <h2 class="empower-section-text">Frequently Asked Questions</h2>

    <select class="faq-dropdown" onchange="showDropdownAnswer(this.value)">
      <option value="">Select a question...</option>
      <option value="q1">Who is this platform for?</option>
      <option value="q2">How can I track my progress?</option>
      <option value="q3">Is the platform free?</option>
      <option value="q4">Where are we getting the videos from?</option>
      <option value="q5">How can patients answer the questions?</option>
    </select>

    <div id="faq-answer-box" class="faq-answer-box">
      <!-- Answer will be shown here dynamically -->
    </div>
  </div>

  <div class="image-block">
    <img src="{{ url_for('static', filename='imgs/faq-2.png') }}" alt="FAQ Illustration" />
  </div>
</section>




  <!-- Footer -->
<footer class="footer-dark fade-in-section">
  <div class="footer-container">
    <div class="footer-brand">
      <h3>ConoCancer</h3>
      <p style="margin-top: 6px; font-size: 14px; color: #333;">
        Bilingual Breast Cancer Tutoring site
      </p>
    </div>
    

    <div class="footer-contact">
      <h4>CONTACT</h4>
      <p>conocancer@gmail.com</p>
      <hr />
      
    </div>

    <div class="footer-links-section">
      <ul class="footer-links">
        <li><a href="#faq-section">FQA</a></li>
        <li><a href="#features">Core Benefits</a></li>
       
        
      </ul>
    </div>
  </div>

  <div class="footer-bottom-dark">
    <p>ConoCancerCopyright ¬© Footer 2025. All right reserved.</p>
  </div>
</footer>

  <!-- Sign Up Modal -->
<!-- Overlay for background blur -->
<div id="overlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 1000;
  display: none;
"></div>

<!-- Sign Up Modal -->
<div id="signupModal">
  <span class="close-button" onclick="closeSignup()">&times;</span>
  <h2 class="modal-title" id="modalTitle">Create an Account</h2>

  <div class="form-tabs">
  <span id="signupTab" class="active" onclick="showSignup()">Sign Up</span>
  <span id="loginTab" onclick="showLogin()">Log In</span>
</div>



  <!-- Sign Up Form -->
  <form id="signupForm"
      >
  <input type="text" id="name" name="name" placeholder="Full Name" required />
  <input type="email" id="email" name="email" placeholder="Email Address" required />
  <input type="password" id="password" name="password" placeholder="Password" required />
  <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required />
  <button type="submit" class="submit-btn">Continue</button>
  <p class="login-text">
    Already have an account?
    <a href="#" onclick="showLogin()">Log In</a>
  </p>
</form>

<!-- Login Form -->
<form id="loginForm" action="{{ url_for('login') }}" method="post" style="display: none;">

  <input type="email" id="loginEmail" name="loginEmail" placeholder="Email Address" required />
  <input type="password" id="loginPassword" name="loginPassword" placeholder="Password" required />
  <button type="submit" class="submit-btn">Log In</button>
  <p class="login-text">
    Create an account?
    <a href="#" onclick="showSignup()">Sign Up</a>
  </p>
</form>

<!-- Questionnaire Overlay -->
<div id="questionnaireOverlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 2000;
  display: none;
"></div>

<!-- Questionnaire Modal -->
<div id="questionnaireModal" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 610px;
  background: white;
  border: 2px solid #78297C;
  border-radius: 12px;
  padding: 40px;
  box-sizing: border-box;
  z-index: 2100;
  font-family: 'Open Sans', sans-serif;
  overflow-y: auto;
  max-height: 90vh;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  opacity: 0;
  pointer-events: none;
  transition: all 0.4s ease;
  flex-direction: column;
  gap: 20px;
">

  <!-- Close Button -->
  <span class="close-button" onclick="closeQuestionnaire()" style="
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    top: 10px;
    right: 20px;
  ">&times;</span>
  <h2 style="color: #7F2895; text-align: center; margin-bottom: 20px;">Account Setup Questionnaire</h2>

  <form id="questionnaireForm" method="POST" action="{{ url_for('submit_questionnaire') }}"
    style="display: flex; flex-direction: column; gap: 20px;">

    <div>
      <label style="font-weight: bold;">Preferred Language <span style="color:red;">*</span></label><br>
      <div style="display: flex; gap: 20px; margin-top: 10px;">
        <label><input type="radio" name="language" value="English" required> English</label>
        <label><input type="radio" name="language" value="Spanish" required> Espa√±ol</label>
      </div>
    </div>

    <div>
      <label style="font-weight: bold;">Why are you interested in this site?</label>
      <select name="interest" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc;">
        <option value="">Select an option...</option>
        <option value="diagnosed">I have been diagnosed with breast cancer</option>
        <option value="family">A family member or friend has breast cancer</option>
        <option value="healthcare">I work in healthcare or caregiving</option>
        <option value="knowledge">I want general knowledge</option>
        <option value="support">Supporting someone going through treatment</option>
        <option value="other">Other</option>
      </select>
    </div>

    <div>
      <label style="font-weight: bold;">What would you like to learn?</label>
      <select name="learn" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc;">
        <option value="">Select an option...</option>
        <option value="overview">Get overview of breast cancer</option>
        <option value="treatments">Learn about treatments</option>
        <option value="supportResources">Find support resources</option>
      </select>
    </div>

    <button type="submit" class="btn-filled" style="margin-top: 10px;">Continue</button>
  </form>
</div>



  <!-- Modal & Overlay HTML -->
  <script>
    // ============================
    // üì• SIGNUP / LOGIN / REDIRECT HANDLER
    // ============================
    
    function openSignup() {
        document.getElementById('signupModal').classList.add('show');
        document.getElementById('signupModal').style.display = 'flex';
        document.getElementById('overlay').style.display = 'block';
    }
    
    function closeSignup() {
        document.getElementById('signupModal').classList.remove('show');
        document.getElementById('signupModal').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
    }
    
    function openLogin() {
        openSignup();
        showLogin();
    }
    
    function showLogin() {
        document.getElementById("signupForm").style.display = "none";
        document.getElementById("loginForm").style.display = "block";
        document.getElementById("signupTab").classList.remove("active");
        document.getElementById("loginTab").classList.add("active");
        document.getElementById("modalTitle").textContent = "Welcome Back";
    }
    
    function showSignup() {
        document.getElementById("signupForm").style.display = "block";
        document.getElementById("loginForm").style.display = "none";
        document.getElementById("signupTab").classList.add("active");
        document.getElementById("loginTab").classList.remove("active");
        document.getElementById("modalTitle").textContent = "Create an Account";
    }
    
    // ============================
    // üìã QUESTIONNAIRE POPUP
    // ============================
    
    function openQuestionnaire() {
    const modal = document.getElementById('questionnaireModal');
    document.getElementById('questionnaireOverlay').style.display = 'block';
    modal.classList.add('show');
    modal.style.opacity = '1';
    modal.style.pointerEvents = 'auto';
    modal.style.display = 'flex';
}

    
function closeQuestionnaire() {
    const modal = document.getElementById('questionnaireModal');
    document.getElementById('questionnaireOverlay').style.display = 'none';
    modal.classList.remove('show');
    modal.style.opacity = '0';
    modal.style.pointerEvents = 'none';
    modal.style.display = 'none';
}

    
    // ============================
    // üß† SIGNUP TRANSITION TO QUESTIONNAIRE
    // ============================
    document.getElementById("signupForm").addEventListener("submit", function(e) {
    e.preventDefault();

    fetch("/signup", {
        method: "POST",
        body: new FormData(e.target)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            closeSignup();
            setTimeout(openQuestionnaire, 300);
        } else {
            alert(data.error || "Signup failed.");
        }
    })
    .catch(err => {
        alert("Signup error.");
        console.error(err);
    });
});

    
    
    // ============================
    // üß† QUESTIONNAIRE SUBMISSION to Flask
    // ============================
    
    document.getElementById("questionnaireForm").addEventListener("submit", function(event) {
        event.preventDefault();
    
        const formData = new FormData();
        const language = document.querySelector('input[name="language"]:checked');
        const interest = document.querySelector('select[name="interest"]').value;
        const learn = document.querySelector('select[name="learn"]').value;
    
        if (!language) {
            alert('Please select your preferred language!');
            return;
        }
    
        formData.append("language", language.value);
        formData.append("interest", interest);
        formData.append("learn", learn);
    
        fetch("/submit_questionnaire", {
            method: "POST",
            body: formData
        })
        .then(res => {
            if (res.ok) {
                closeQuestionnaire();
                window.location.href = "/dashboard";
            } else {
                alert("Something went wrong while saving your answers.");
            }
        });
    });
    
    // ============================
    // üßæ FAQ Dropdown
    // ============================
    
    function showDropdownAnswer(key) {
        const answers = {
            q1: "This platform is specially designed for breast cancer patients seeking bilingual education, resources, and community support.",
            q2: "After signing up, you‚Äôll access tools to track treatment milestones, view medical content, find breast cancer resources like hospitals and support groups, with the site available in English and Spanish.",
            q3: "Yes, the core services and support resources are completely free to ensure accessibility for everyone.",
            q4: "The videos come from verified medical professionals, community contributors, and licensed sites specializing in breast cancer education.",
            q5: "Patients can either speak their answers using ASR (with support for English and Spanish) or type them. If they use ASR, a transcript will be created, and they can edit it before submitting.",
        };
        document.getElementById('faq-answer-box').textContent = answers[key] || '';
    }
    
    // ============================
    // üéûÔ∏è Learn More Modal
    // ============================
    
    function openLearnMore() {
        document.getElementById('learnMoreOverlay').style.display = 'block';
        document.getElementById('learnMoreModal').style.display = 'block';
        currentSlide = 0;
        updateCarousel();
    }
    
    function closeLearnMore() {
        document.getElementById('learnMoreOverlay').style.display = 'none';
        document.getElementById('learnMoreModal').style.display = 'none';
    }
    
    // ============================
    // ‚¨ÖÔ∏è‚û°Ô∏è Carousel Controls
    // ============================
    
    let currentSlide = 0;
    const carousel = document.getElementById('carousel');
    const totalSlides = 3;
    
    document.getElementById('prevBtn').addEventListener('click', () => {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
    });
    
    document.getElementById('nextBtn').addEventListener('click', () => {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
    });
    
    function updateCarousel() {
        carousel.style.transform = `translateX(-${currentSlide * (100 / totalSlides)}%)`;
    }
    
    // ============================
    // üñ±Ô∏è Global Click Outside Modals
    // ============================
    
    window.onclick = function (event) {
        const signupModal = document.getElementById('signupModal');
        const overlay = document.getElementById('overlay');
        const learnMoreOverlay = document.getElementById('learnMoreOverlay');
    
        if (event.target === overlay) closeSignup();
        if (event.target === learnMoreOverlay) closeLearnMore();
    };
    
    </script>
    
    {% if show_questionnaire %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    closeSignup();
    openQuestionnaire();
  });
</script>
{% endif %}

    
    

</body>
</html>